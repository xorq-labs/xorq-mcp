{"by": "jimsmart", "id": 43182734, "parent": 43161468, "text": "&gt; The best way<p>I think you would need to explain your definition of &#x27;best&#x27; here \u2014 I mean: explain <i>why</i> you think it is better.<p>&gt; making regex blocks are appropriate.<p>I guess here you actually mean <i>in</i>appropriate?<p>Perhaps. But I think you misunderstand what I am doing, and how that then works in PiHole.<p>The method I describe, uses the Domains tab on the Domain Management page \u2014 and not the RegEx Filter tab.<p>The distinction is somewhat of importance, because the implementation of PiHole uses a different code path for exact-match denies&#x2F;accepts, vs regex denies&#x2F;accepts. (Type 0 and 1, vs type 2 and 3, detailed here[1]). Adding a domain the way I describe, creates an exact-match type entry in that table, not a regex match type.<p>But even if it were still using regex, the cost of that isn&#x27;t as high as one might imagine, due to the fact that subsequent repeat queries to the same domain, do not get checked against regexes again: the result is cached.<p>As described here [2]: &quot;Our implementation is light and fast as each domain is only checked once for a match. When you query google.com, it will be checked against your RegEx. Any subsequent query to the same domain will not be checked again until you restart pihole-FTL.&quot;<p>In summary: adding a domain the way I describe doesn&#x27;t create a regex filter anyhow. But PiHole&#x27;s regex matching isn&#x27;t a naive implementation, it caches the results, so that it only actually performs the regex matching on first query to a domain not seen before (since last restart).<p>So really it makes no difference at all if one blocks a domain the way I describe, or the way you describe. They both end up doing the same thing: they insert an exact-match filter entry into the database.<p>In which case, it&#x27;s simply down to one&#x27;s own preference: do you prefer looking through the query log to find the site to block... or do you prefer just typing in a domain name.<p>[1] <a href=\"https:&#x2F;&#x2F;docs.pi-hole.net&#x2F;database&#x2F;domain-database&#x2F;\" rel=\"nofollow\">https:&#x2F;&#x2F;docs.pi-hole.net&#x2F;database&#x2F;domain-database&#x2F;</a><p>[2] <a href=\"https:&#x2F;&#x2F;docs.pi-hole.net&#x2F;regex&#x2F;\" rel=\"nofollow\">https:&#x2F;&#x2F;docs.pi-hole.net&#x2F;regex&#x2F;</a>", "time": 1740569547, "type": "comment"}