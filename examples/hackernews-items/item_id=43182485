{"by": "skissane", "id": 43182485, "kids": [43182521], "parent": 43182076, "text": "&gt; In Linux, as I have written in the foot note, accepts anything but 0x00 (null) and 0x2F (\u201c&#x2F;\u201d)<p>POSIX 2024 encourages (but doesn\u2019t require) implementations to disallow newline in file names, returning EILSEQ if you try to create a new file or directory with a name containing a newline. Thus far Linux hasn\u2019t adopted that recommendation, but I personally hope it does some day.<p>For backward compatibility, it would have to be a mount option. It could be done at VFS level so it applies to all filesystems.<p>Personally I would go even further and introduce a \u201crequire_sane_filenames\u201d mount option, which would block you (at the VFS layer) from creating any file name containing invalid UTF-8 (including overlong sequences and UTF-8 encoded surrogates), C0 controls or (UTF-8 encoded) C1 controls.<p>Also I think it would be great if filesystems had a superblock bit that declared they only supported \u201csane filenames\u201d. Then even accessing such a file would error because it would be a sign of filesystem corruption.", "time": 1740565780, "type": "comment"}